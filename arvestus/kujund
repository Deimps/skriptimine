#!/bin/bash
# Nimi   : Deimo Sarapson
# Klass  : IS25
# kujund   : ring
# Joonista ASCII-ring/rõngas.
# R = raadius ridades; T = paksus (0 = täidetud ring)
# Arvestame kirjatüübi kuvasuhet: y skaleeritakse *2

read -rp "Raadius (nt 10): " R
read -rp "Paksus (0 = täidetud, nt 2): " T
R=${R:-10}
T=${T:-1}
(( T < 0 )) && T=0
(( T > R )) && T=$R

for ((y=R; y>=-R; y--)); do
  line=""
  for ((x=-2*R; x<=2*R; x++)); do
    dsq=$(( x*x + (2*y)*(2*y) ))            # kaugus^2, y skaleeritud
    if (( T == 0 )); then                    # täidetud ring
      if (( dsq <= R*R )); then line+="*"; else line+=" "; fi
    else                                     # rõngas paksusega T
      inner=$(( (R - T)*(R - T) ))
      outer=$(( (R + T)*(R + T) ))
      if (( dsq >= inner && dsq <= outer )); then line+="*"; else line+=" "; fi
    fi
  done
  echo "$line"
done
